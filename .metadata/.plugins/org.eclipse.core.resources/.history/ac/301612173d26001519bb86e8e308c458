#include <iostream>
#include <stdlib.h>
#include <stdio.h>
using namespace std;


struct ListNode {
  int val;
  ListNode *next;
  ListNode(int x) : val(x), next(NULL) {}
};
void output(ListNode* head)
{
	ListNode* curr=head;
	if (curr!=NULL)
	{
		printf("%d",curr->val);
		if (curr->next)
		{
			printf("->");
		}
		else
		{
			printf("\n");
		}
		curr=curr->next;
	}
}
class Solution {
public:
    ListNode* deleteDuplicates(ListNode* head) {
        ListNode* p1;
        ListNode* p2;
        ListNode* curr;
        //先处理头一段的问题
        while(head->next!=NULL&&head->val==head->next->val)
        {
            curr=head->next;
            while(curr!=NULL&&curr->val==head->val)
            {
                curr=curr->next;
            }
            head=curr;
        }
        p1=head;
        //如果后面还有元素，则继续处理
        while (p1!=NULL&&p1->next)
        {
            p2=head->next->next;
            while(p2!=NULL&&p2->val==p1->next->val)
            {
                p2=p2->next;
            }
            p1->next=p2;
            p1=p1->next;
        }
        return head;
    }
};
int main()
{
    ListNode* head=NULL;
    ListNode* curr;
	int in[]={1,2,3,4,5,6};
	for (int i=0;i<sizeof(in)/sizeof(int);i++)
    {
        if (head==NULL)
        {
            head=new ListNode;
            head->val=in[i];
            head->next=NULL;
            curr=head;
        }
        else
        {
            curr->next=new ListNode;
            curr=curr->next;
            curr->val=in[i];
            curr->next=NULL;
        }
    }
    output(head);
	return 0;
}
